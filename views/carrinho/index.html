<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrinho | xNeedWare</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.2/css/all.css">
  <link rel="stylesheet" href="/css/carrinho.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
  <style>
    
  </style>
</head>
<body>
  <header class="xneedware-header">
    <div class="header-container">
      <a href="/" class="logo">
        <span class="logo-x">x</span><span class="logo-text">NeedWare</span>
      </a>

      <button class="menu-toggle" id="mobile-menu">
        <i class="fas fa-bars"></i>
      </button>

      <nav class="main-nav">
        <ul>
          <li><a href="/produtos">Produtos</a></li>
          <li><a href="/sobre">Sobre</a></li>
          <li><a href="/contato">Contato</a></li>
          <div id="usuarioArea"></div>
          <script src="/js/header-usuario.js"></script>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <h1>Seu Carrinho</h1>
      <p class="subtitle">Revise seus produtos antes de finalizar a compra.</p>
    </section>

    <section class="checkout-container">
      <div class="checkout-form">
        <div class="form-progress">
          <div class="progress-step active" data-step="0">
            <div class="step-number">1</div>
            <div class="step-text">Carrinho</div>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="1">
            <div class="step-number">2</div>
            <div class="step-text">Dados</div>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="2">
            <div class="step-number">3</div>
            <div class="step-text">Pagamento</div>
          </div>
          <div class="progress-line"></div>
          <div class="progress-step" data-step="3">
            <div class="step-number">4</div>
            <div class="step-text">Confirmaﾃｧﾃ｣o</div>
          </div>
        </div>

        <!-- STEP 0 - CARRINHO -->
        <div class="form-step active" id="step-0">
          <h2>Produtos adicionados</h2>
          <div id="carrinhoContainer" class="cart-items"></div>

          <div class="form-actions">
            <button type="button" class="btn-next" onclick="nextStep()">Continuar</button>
          </div>
        </div>

        <!-- STEP 1 - DADOS -->
        <div class="form-step hidden" id="step-1">
          <h2>Confirme seus dados</h2>

          <div class="form-group">
            <label for="nome">Nome</label>
            <span class="user-info" id="user-nome-step2"></span>
          </div>
          <div class="form-group">
            <label for="email">Email para receber o arquivo</label>
            <input type="email" id="email" name="email" required>
            <small>Vocﾃｪ pode alterar o email para receber o arquivo em outro endereﾃｧo.</small>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-back" onclick="prevStep()">Voltar</button>
            <button type="button" class="btn-next" onclick="nextStep()">Continuar</button>
          </div>
        </div>

        <!-- STEP 2 - SELEﾃﾃグ DE PAGAMENTO -->
        <div class="form-step hidden" id="step-2">
          <h2>Selecione o mﾃｩtodo de pagamento</h2>
          
          <div class="payment-methods-selection">
            <div class="payment-option selected" data-method="google-pay">
              <div class="payment-option-header">
                <div class="payment-icon">
                  <i class="fab fa-google-pay"></i>
                </div>
                <div class="payment-info">
                  <h3>Google Pay</h3>
                  <p>Pague de forma rﾃ｡pida e segura</p>
                </div>
                <div class="payment-radio">
                  <input type="radio" name="payment-method" value="google-pay" id="google-pay-radio" checked>
                  <span class="radio-checkmark"></span>
                </div>
              </div>
              <div class="payment-option-details" id="google-pay-details">
                <div class="google-pay-info">
                  <p class="payment-security">白 Seus dados de pagamento ficam protegidos</p>
                  <p><small>Vocﾃｪ serﾃ｡ redirecionado para o Google Pay ao finalizar a compra</small></p>
                </div>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-back" onclick="prevStep()">Voltar</button>
            <button type="button" class="btn-next" onclick="nextStep()">Continuar</button>
          </div>
        </div>

        <!-- STEP 3 - CONFIRMAﾃﾃグ -->
        <div class="form-step hidden" id="step-3">
          <h2>Confirme seu pedido</h2>
          
          <div class="order-summary">
            <h3>Resumo da compra</h3>
            <div class="summary-item">
              <div class="summary-label">Produto</div>
              <div class="summary-value" id="summary-product"></div>
            </div>
            <div class="summary-item">
              <div class="summary-label">Forma de pagamento</div>
              <div class="summary-value" id="summary-payment">Google Pay</div>
            </div>
            <div class="summary-item">
              <div class="summary-label">Email para entrega</div>
              <div class="summary-value" id="summary-email"></div>
            </div>
            <div class="summary-item total">
              <div class="summary-label">Total</div>
              <div class="summary-value" id="summary-total">R$ 00,00</div>
            </div>
          </div>
          
          <div class="terms-agreement">
            <label class="checkbox-container">
              <input type="checkbox" id="terms" name="terms" required>
              <span class="checkmark"></span>
              <span>Concordo com os <a href="#" class="terms-link">Termos de Serviﾃｧo</a> e <a href="#" class="terms-link">Polﾃｭtica de Privacidade</a></span>
            </label>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-back" onclick="prevStep()">Voltar</button>
            <button type="button" class="btn-submit" onclick="iniciarPagamentoGooglePay()">Finalizar compra</button>
          </div>
        </div>
      </div>

      <!-- BARRA LATERAL FIXA -->
      <div class="checkout-sidebar">
        <div class="order-summary-card">
          <h3>Resumo do pedido</h3>
          <div id="sidebar-products"></div>
          <div class="summary-item total">
            <div class="summary-label">Total</div>
            <div class="summary-value" id="sidebar-total">R$ 00,00</div>
          </div>
        </div>

        <div class="secure-payment">
          <div class="secure-icon">白</div>
          <p>Pagamento 100% seguro</p>
        </div>

        <div class="help-section">
          <h4>Precisa de ajuda?</h4>
          <p>Entre em contato com nosso suporte:</p>
          <a href="mailto:suporte@xneedware.com" class="support-link">suporte@xneedware.com</a>
          <a href="tel:+551199999999" class="support-link">+55 11 9999-9999</a>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-about">
          <a href="/" class="logo">
            <span class="logo-x">x</span><span class="logo-text">NeedWare</span>
          </a>

          <p class="footer-description">
            Transformando empresas atravﾃｩs de soluﾃｧﾃｵes de software inovadoras e eficientes.
          </p>

          <div class="social-links">
            <a href="https://www.instagram.com/xneedware/" class="social-link"><i class="fab fa-instagram"></i></a>
            <a href="https://www.linkedin.com/company/xneedware/posts/?feedView=all" class="social-link"><i class="fab fa-linkedin-in"></i></a>
            <a href="https://github.com/Projeto-xNeedWare" class="social-link"><i class="fab fa-github"></i></a>
          </div>
        </div>

        <div class="footer-links">
          <h3 class="footer-title">Produtos</h3>
          <ul>
            <li><a href="/chatbot">xNeed Chatbot</a></li>
            <li><a href="/downloader">xNeed Downloader</a></li>
            <li><a href="/message">xNeed Message</a></li>
            <li><a href="/qrgenerator">xNeed QrGenerator</a></li>
            <li><a href="/excel">xNeed Excel</a></li>
            <li><a href="/manager">xNeed Manager</a></li>
          </ul>
        </div>

        <div class="footer-links">
          <h3 class="footer-title">Empresa</h3>
          <ul>
            <li><a href="/sobre">Sobre Nﾃｳs</a></li>
          </ul>
        </div>

        <div class="footer-links">
          <h3 class="footer-title">Suporte</h3>
          <ul>
            <li><a href="/politica_privacidade">Polﾃｭtica de Privacidade</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; <span id="currentYear"></span> xNeedWare. Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      document.getElementById('currentYear').textContent = new Date().getFullYear();
      
      // Carrega dados do usuﾃ｡rio apenas se estiver logado
      try {
          const res = await fetch("/api/usuario");
          if (res.ok) {
              const usuario = await res.json();
              document.getElementById("user-nome-step2").textContent = usuario.nome + " " + usuario.sobrenome;
              document.getElementById("email").value = usuario.email;
              document.getElementById("summary-email").textContent = usuario.email;
          }
      } 
      catch (error) {
          console.log("Usuﾃ｡rio nﾃ｣o logado - permitindo navegaﾃｧﾃ｣o");
      }
      
      atualizarCarrinho();
      initializeGooglePay();
  });

  // ==================== VARIﾃ〃EIS GLOBAIS ====================
  let currentStep = 0;
  let paymentsClient = null;

  // ==================== CONFIGURAﾃﾃグ GOOGLE PAY ====================
  const baseRequest = {
      apiVersion: 2,
      apiVersionMinor: 0
  };

  const allowedPaymentMethods = [{
      type: 'CARD',
      parameters: {
          allowedAuthMethods: ['PAN_ONLY', 'CRYPTOGRAM_3DS'],
          allowedCardNetworks: ['MASTERCARD', 'VISA']
      },
      tokenizationSpecification: {
          type: 'PAYMENT_GATEWAY',
          parameters: {
              gateway: 'example',
              gatewayMerchantId: 'exampleGatewayMerchantId'
          }
      }
  }];

  // ==================== INICIALIZAﾃﾃグ GOOGLE PAY ====================
  function initializeGooglePay() {
      if (window.google && window.google.payments) {
          paymentsClient = new google.payments.api.PaymentsClient({
              environment: 'TEST' // Mude para 'PRODUCTION' em produﾃｧﾃ｣o
          });

          console.log('Google Pay inicializado com sucesso');
      } else {
          console.log('Google Pay API nﾃ｣o carregada, tentando novamente...');
          setTimeout(initializeGooglePay, 500);
      }
  }

  // ==================== SISTEMA DE STEPS ====================
  function showStep(step) {
      document.querySelectorAll('.form-step').forEach(el => {
          el.classList.add('hidden');
          el.classList.remove('active');
      });
      
      const currentStepEl = document.getElementById(`step-${step}`);
      if (currentStepEl) {
          currentStepEl.classList.remove('hidden');
          currentStepEl.classList.add('active');
      }
      
      updateProgress(step);
      currentStep = step;
      
      // Atualiza o resumo final quando chegar no step 3
      if (step === 3) {
          updateFinalSummary();
      }
  }

  function nextStep() {
      if (validateCurrentStep()) {
          if (currentStep < 3) {
              showStep(currentStep + 1);
          }
      }
  }

  function prevStep() {
      if (currentStep > 0) {
          showStep(currentStep - 1);
      }
  }

  function updateProgress(step) {
      document.querySelectorAll('.progress-step').forEach((stepEl, index) => {
          if (index <= step) {
              stepEl.classList.add('active');
          } else {
              stepEl.classList.remove('active');
          }
      });
  }

  function validateCurrentStep() {
      switch(currentStep) {
          case 0:
              const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
              if (carrinho.length === 0) {
                  alert('Seu carrinho estﾃ｡ vazio. Adicione produtos antes de continuar.');
                  return false;
              }
              return true;
              
          case 1:
              const email = document.getElementById('email');
              if (!email || !email.value.trim()) {
                  alert('Por favor, informe um email vﾃ｡lido.');
                  email.focus();
                  return false;
              }
              
              const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
              if (!emailRegex.test(email.value)) {
                  alert('Por favor, informe um email vﾃ｡lido.');
                  email.focus();
                  return false;
              }
              return true;
              
          case 2:
              // Sem validaﾃｧﾃ｣o especﾃｭfica para seleﾃｧﾃ｣o de pagamento
              return true;
              
          case 3:
              const termsCheckbox = document.getElementById('terms');
              if (!termsCheckbox.checked) {
                  alert('Por favor, aceite os termos de serviﾃｧo.');
                  return false;
              }
              return true;
              
          default:
              return true;
      }
  }

  // ==================== SISTEMA DO CARRINHO ====================
  function atualizarCarrinho() {
      const carrinhoContainer = document.getElementById("carrinhoContainer");
      const sidebarProducts = document.getElementById("sidebar-products");
      const sidebarTotal = document.getElementById("sidebar-total");

      const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];

      carrinhoContainer.innerHTML = "";
      sidebarProducts.innerHTML = "";

      if (carrinho.length === 0) {
          carrinhoContainer.innerHTML = `
              <div style="text-align: center; padding: 40px 20px; color: #666;">
                  <i class="fas fa-shopping-cart" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.5;"></i>
                  <p>Seu carrinho estﾃ｡ vazio.</p>
                  <a href="/produtos" style="color: #007bff; text-decoration: none;">Continuar comprando</a>
              </div>
          `;
          sidebarTotal.textContent = "R$ 00,00";
          return;
      }

      let total = 0;

      carrinho.forEach(item => {
          const itemTotal = item.preco * item.quantidade;
          total += itemTotal;

          const div = document.createElement("div");
          div.classList.add("cart-item");
          div.innerHTML = `
              <div class="cart-item-info">
                  <h4>${item.nome}</h4>
                  <p>R$ ${item.preco.toFixed(2)} x 
                  <input type="number" min="1" value="${item.quantidade}" data-id="${item.id}" class="qtd-input"> 
                  = R$ ${itemTotal.toFixed(2)}</p>
              </div>
              <button class="remover-btn" data-id="${item.id}" title="Remover item">
                  <i class="fas fa-trash"></i>
              </button>
          `;
          carrinhoContainer.appendChild(div);

          const summaryDiv = document.createElement("div");
          summaryDiv.classList.add("summary-item");
          summaryDiv.innerHTML = `
              <div class="summary-label">${item.nome} (${item.quantidade}x)</div>
              <div class="summary-value">R$ ${itemTotal.toFixed(2)}</div>
          `;
          sidebarProducts.appendChild(summaryDiv);
      });

      sidebarTotal.textContent = `R$ ${total.toFixed(2)}`;

      // Adiciona event listeners para os botﾃｵes de remover
      document.querySelectorAll(".remover-btn").forEach(btn => {
          btn.addEventListener("click", () => {
              const id = btn.dataset.id;
              const novoCarrinho = carrinho.filter(p => p.id !== id);
              localStorage.setItem("carrinho", JSON.stringify(novoCarrinho));
              atualizarCarrinho();
          });
      });

      // Adiciona event listeners para os inputs de quantidade
      document.querySelectorAll(".qtd-input").forEach(input => {
          input.addEventListener("change", () => {
              const id = input.dataset.id;
              const produto = carrinho.find(p => p.id === id);
              if (produto) {
                  produto.quantidade = Math.max(1, parseInt(input.value) || 1);
                  localStorage.setItem("carrinho", JSON.stringify(carrinho));
                  atualizarCarrinho();
              }
          });
          
          input.addEventListener("blur", () => {
              if (!input.value || parseInt(input.value) < 1) {
                  input.value = 1;
                  const id = input.dataset.id;
                  const produto = carrinho.find(p => p.id === id);
                  if (produto) {
                      produto.quantidade = 1;
                      localStorage.setItem("carrinho", JSON.stringify(carrinho));
                      atualizarCarrinho();
                  }
              }
          });
      });
  }

  function updateFinalSummary() {
      const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
      const total = calcularTotalCarrinho();
      const email = document.getElementById('email').value;
      
      const summaryProduct = document.getElementById('summary-product');
      if (summaryProduct) {
          if (carrinho.length === 1) {
              summaryProduct.textContent = carrinho[0].nome;
          } else {
              summaryProduct.textContent = `${carrinho.length} produtos`;
          }
      }
      
      const summaryPayment = document.getElementById('summary-payment');
      if (summaryPayment) {
          summaryPayment.textContent = 'Google Pay';
      }
      
      const summaryEmail = document.getElementById('summary-email');
      if (summaryEmail) {
          summaryEmail.textContent = email;
      }
      
      const summaryTotal = document.getElementById('summary-total');
      if (summaryTotal) {
          summaryTotal.textContent = `R$ ${total.toFixed(2)}`;
      }
  }

  function calcularTotalCarrinho() {
      const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
      return carrinho.reduce((total, item) => total + (item.preco * item.quantidade), 0);
  }

  // ==================== SISTEMA DE LOGIN NO FINALIZAR COMPRA ====================
  async function iniciarPagamentoGooglePay() {
      // Verifica se os termos foram aceitos
      if (!document.getElementById('terms').checked) {
          alert('Por favor, aceite os termos de serviﾃｧo para continuar.');
          return;
      }

      // Verifica se o usuﾃ｡rio estﾃ｡ logado
      try {
          const res = await fetch("/api/usuario");
          if (!res.ok) {
              // Se nﾃ｣o estiver logado, mostra modal de login
              mostrarModalLogin();
              return;
          }

          const usuario = await res.json();
          
          // Se estiver logado, prossegue com o pagamento
          processarPagamentoGooglePay(usuario);
          
      } catch (error) {
          console.error("Erro ao verificar login:", error);
          mostrarModalLogin();
      }
  }

  // Funﾃｧﾃ｣o para mostrar modal de login
  function mostrarModalLogin() {
      const modalHTML = `
          <div id="loginModal" class="login-modal">
              <div class="login-modal-content">
                  <span class="close-modal" onclick="fecharModalLogin()">&times;</span>
                  <h3>Login Necessﾃ｡rio</h3>
                  <p>Para finalizar sua compra, faﾃｧa login em sua conta.</p>
                  <div class="modal-buttons">
                      <a href="/login" class="btn-login">
                          Fazer Login
                      </a>
                      <a href="/login?action=register" class="btn-register">
                          Criar Conta
                      </a>
                      <button onclick="fecharModalLogin()" class="btn-continue">
                          Continuar Navegando
                      </button>
                  </div>
              </div>
          </div>
      `;
      
      document.body.insertAdjacentHTML('beforeend', modalHTML);
  }

  // Funﾃｧﾃ｣o para fechar o modal
  function fecharModalLogin() {
      const modal = document.getElementById('loginModal');
      if (modal) modal.remove();
  }

  // ==================== PROCESSAR PAGAMENTO GOOGLE PAY ====================
  function processarPagamentoGooglePay(usuario) {
      console.log('Iniciando pagamento Google Pay para:', usuario);

      // Mostra loading
      const submitBtn = document.querySelector('.btn-submit');
      const originalText = submitBtn.textContent;
      submitBtn.innerHTML = '<div class="loading-spinner"></div>';
      submitBtn.disabled = true;

      if (!paymentsClient) {
          console.error('Google Pay nﾃ｣o inicializado');
          showPaymentError();
          return;
      }

      const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
      if (carrinho.length === 0) {
          alert('Seu carrinho estﾃ｡ vazio.');
          return;
      }

      const total = calcularTotalCarrinho();

      const paymentDataRequest = {
          ...baseRequest,
          allowedPaymentMethods,
          transactionInfo: {
              totalPriceStatus: 'FINAL',
              totalPriceLabel: 'Total',
              totalPrice: total.toFixed(2),
              currencyCode: 'BRL',
              countryCode: 'BR'
          },
          merchantInfo: {
              merchantId: 'BCR2DN4T26QN5K5L',
              merchantName: 'xNeedWare'
          }
      };

      // Verifica se o Google Pay estﾃ｡ disponﾃｭvel
      paymentsClient.isReadyToPay({
          ...baseRequest,
          allowedPaymentMethods
      })
      .then(function(response) {
          if (response.result) {
              // Inicia o fluxo de pagamento
              paymentsClient.loadPaymentData(paymentDataRequest)
                  .then(function(paymentData) {
                      console.log('Pagamento processado com sucesso:', paymentData);
                      processarPagamentoSucesso(paymentData);
                  })
                  .catch(function(err) {
                      console.error('Erro no pagamento Google Pay:', err);
                      if (err.statusCode === 'CANCELED') {
                          console.log('Usuﾃ｡rio cancelou o pagamento');
                          submitBtn.textContent = originalText;
                          submitBtn.disabled = false;
                      } else {
                          showPaymentError();
                      }
                  });
          } else {
              console.log('Google Pay nﾃ｣o disponﾃｭvel neste dispositivo');
              showPaymentError();
          }
      })
      .catch(function(err) {
          console.error('Erro ao verificar Google Pay:', err);
          showPaymentError();
      });
  }

  function processarPagamentoSucesso(paymentData) {
      const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
      const total = calcularTotalCarrinho();
      
      // Envia para histﾃｳrico
      carrinho.forEach(item => {
          fetch('/api/historico-pagamento', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                  produto: item.nome,
                  valor: item.preco,
                  quantidade: item.quantidade,
                  total: total,
                  metodo: 'google-pay'
              })
          }).catch(err => console.error('Erro ao salvar histﾃｳrico:', err));
      });

      // Limpa carrinho apﾃｳs compra
      localStorage.removeItem("carrinho");
      
      // Mostra confirmaﾃｧﾃ｣o de sucesso
      const step3 = document.getElementById('step-3');
      if (step3) {
          step3.innerHTML = `
              <div style="text-align: center; padding: 40px 20px;">
                  <div style="font-size: 4rem; color: #28a745; margin-bottom: 20px;">
                      笨
                  </div>
                  <h2 style="color: #28a745; margin-bottom: 15px;">Pagamento Aprovado!</h2>
                  <p style="color: #666; margin-bottom: 25px;">
                      Seu pagamento de <strong>R$ ${total.toFixed(2)}</strong> 
                      foi processado com sucesso via Google Pay.
                  </p>
                  <p style="color: #666; font-size: 14px; margin-bottom: 30px;">
                      Vocﾃｪ receberﾃ｡ um email com as instruﾃｧﾃｵes de download em breve.
                  </p>
                  <button onclick="window.location.href='/conta'" style="
                      background: #28a745;
                      color: white;
                      border: none;
                      padding: 12px 30px;
                      border-radius: 6px;
                      font-size: 16px;
                      cursor: pointer;
                      font-weight: 600;
                      margin: 5px;
                  ">
                      Ver Meus Pedidos
                  </button>
                  <button onclick="window.location.href='/produtos'" style="
                      background: #007bff;
                      color: white;
                      border: none;
                      padding: 12px 30px;
                      border-radius: 6px;
                      font-size: 16px;
                      cursor: pointer;
                      font-weight: 600;
                      margin: 5px;
                  ">
                      Continuar Comprando
                  </button>
              </div>
          `;
      }
  }

  function showPaymentError() {
      const submitBtn = document.querySelector('.btn-submit');
      submitBtn.textContent = 'Tentar Novamente';
      submitBtn.disabled = false;
      
      alert('Erro ao processar pagamento com Google Pay. Por favor, tente novamente ou entre em contato com o suporte.');
  }

  // ==================== CSS PARA O MODAL DE LOGIN ====================
  const modalStyles = `
  <style>
  .login-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease;
  }

  .login-modal-content {
      background: var(--color-gray-900);
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      position: relative;
      animation: slideUp 0.3s ease;
  }

  .close-modal {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 24px;
      cursor: pointer;
      color: #c0c0c0;
  }

  .close-modal:hover {
      color: #c0c0c0;
  }

  .login-modal-content h3 {
      color: #c0c0c0;
      margin-bottom: 10px;
      font-size: 1.5rem;
  }

  .login-modal-content p {
      color: #c0c0c0;
      margin-bottom: 25px;
      line-height: 1.5;
  }

  .modal-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
  }

  .btn-login, .btn-register, .btn-continue {
      padding: 14px 20px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
  }

  .btn-login {
      background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
      color: white;
  }

  .btn-register {
      background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
      color: white;
  }

  .btn-continue {
      background: #f1f1f1;
      color: #333;
      margin-top: 10px;
  }

  .btn-login:hover, .btn-register:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }

  .btn-continue:hover {
      background: #e0e0e0;
  }

  @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
  }

  @keyframes slideUp {
      from { 
          opacity: 0;
          transform: translateY(20px);
      }
      to { 
          opacity: 1;
          transform: translateY(0);
      }
  }

  @media (max-width: 480px) {
      .login-modal-content {
          padding: 20px;
          margin: 20px;
      }
      
      .modal-buttons {
          gap: 10px;
      }
      
      .btn-login, .btn-register, .btn-continue {
          padding: 12px 16px;
          font-size: 0.9rem;
      }
  }
  </style>
  `;

  // Adiciona os estilos do modal ao documento
  document.head.insertAdjacentHTML('beforeend', modalStyles);
</script>

  <script src="https://pay.google.com/gp/p/js/pay.js"></script>
  <script src="/js/google-pay.js"></script>
</body>
</html>